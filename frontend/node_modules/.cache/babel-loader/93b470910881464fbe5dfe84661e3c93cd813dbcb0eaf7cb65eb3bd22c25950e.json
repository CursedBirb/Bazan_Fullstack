{"ast":null,"code":"var _jsxFileName = \"C:\\\\SKRYPTY\\\\KROSNO\\\\Modern programming techniques\\\\DRUGI_SEMESTR_2023\\\\JavaScript2023\\\\PrzykladyJSReact2023\\\\myreactapp\\\\src\\\\pdatabasehook\\\\PDatabaseAppHook.js\",\n  _s = $RefreshSig$();\nimport React, { Component, useState } from \"react\";\nimport Container from 'react-bootstrap/Container';\nimport Table from 'react-bootstrap/Table';\nimport Form from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Footer from \"./footer\";\nimport Header from \"./header\";\nimport PersonDescriptionHook from \"./PersonDescriptionHook\";\nimport SPerson from \"./SPerson\";\nimport SPersonList from \"./SPersonList\";\nimport ReadPersonHook from \"./ReadPersonHook\";\nimport DeletePersonHook from \"./DeletePersonHook\";\n\n//Baza danych osób w pamięci RAM oparta na 4 głównych komponentach klasowych (PDatabaseAppHook, PersonDescriptionHook, ReadPersonHook, DeletePersonHook)\n//Korzysta także z 2 kompotentów pomocniczych:  Header i Footer\n//Pokazuje obsługę bazy danych w aplikacji typu SPA\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PDatabaseAppHook(props) {\n  _s();\n  let pList = new SPersonList();\n  pList.build();\n  const [personList, setPersonList] = useState(pList);\n  const [status, setStatus] = useState(\"Start\");\n  const [isError, setIsError] = useState(false);\n  function addNewPerson(p) {\n    personList.add(p);\n    setStatus(\"Dodano osobę: \" + p.firstname + \" \" + p.lastname);\n    setIsError(false);\n    //setPersonList(personList);\n    forceUpdate();\n  }\n  function deletePerson(email) {\n    let result = personList.deletePerson(email);\n    if (!result) {\n      setStatus(\"Brak osoby o adresie email: \" + email);\n      setIsError(true);\n    } else {\n      setStatus(\"Usunieto osobę o adresie email: \" + email);\n      setIsError(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), !isError && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"success\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"Status: \", status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 52\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 26\n    }, this), isError && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"Status: \", status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 50\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Imi\\u0119\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Nazwisko\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Wiek\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: personList.personList.map((lperson, index) => /*#__PURE__*/_jsxDEV(PersonDescriptionHook, {\n          email: lperson.email,\n          firstname: lperson.firstname,\n          lastname: lperson.lastname,\n          age: lperson.age\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ReadPersonHook, {\n      callback: addNewPerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DeletePersonHook, {\n      callback: deletePerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s(PDatabaseAppHook, \"XDx2SWLcKlPb+Rf9Y0JXdB+QcgQ=\");\n_c = PDatabaseAppHook;\nvar _c;\n$RefreshReg$(_c, \"PDatabaseAppHook\");","map":{"version":3,"names":["React","Component","useState","Container","Table","Form","Alert","Footer","Header","PersonDescriptionHook","SPerson","SPersonList","ReadPersonHook","DeletePersonHook","PDatabaseAppHook","props","pList","build","personList","setPersonList","status","setStatus","isError","setIsError","addNewPerson","p","add","firstname","lastname","forceUpdate","deletePerson","email","result","map","lperson","index","age"],"sources":["C:/SKRYPTY/KROSNO/Modern programming techniques/DRUGI_SEMESTR_2023/JavaScript2023/PrzykladyJSReact2023/myreactapp/src/pdatabasehook/PDatabaseAppHook.js"],"sourcesContent":["import React, { Component, useState } from \"react\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Table from 'react-bootstrap/Table'; \r\nimport Form from 'react-bootstrap/Form';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Footer from \"./footer\";\r\nimport Header from \"./header\";\r\nimport PersonDescriptionHook from \"./PersonDescriptionHook\";\r\n\r\nimport SPerson from \"./SPerson\"\r\nimport SPersonList from \"./SPersonList\"\r\nimport ReadPersonHook from \"./ReadPersonHook\"\r\nimport DeletePersonHook from \"./DeletePersonHook\"\r\n\r\n\r\n//Baza danych osób w pamięci RAM oparta na 4 głównych komponentach klasowych (PDatabaseAppHook, PersonDescriptionHook, ReadPersonHook, DeletePersonHook)\r\n//Korzysta także z 2 kompotentów pomocniczych:  Header i Footer\r\n//Pokazuje obsługę bazy danych w aplikacji typu SPA\r\n\r\n\r\n\r\n\r\nexport default function PDatabaseAppHook(props) {\r\n\r\n\r\n    let pList = new SPersonList();\r\n    pList.build();\r\n    const [personList, setPersonList] = useState(pList);\r\n    const [status, setStatus] = useState(\"Start\");\r\n    const [isError, setIsError] = useState(false);\r\n\r\n\r\n    function addNewPerson(p) {\r\n\r\n        personList.add(p);\r\n        setStatus(\"Dodano osobę: \" + p.firstname + \" \" + p.lastname)\r\n        setIsError(false);\r\n        //setPersonList(personList);\r\n        forceUpdate();\r\n        \r\n    }\r\n\r\n    function deletePerson(email) {\r\n\r\n        let result = personList.deletePerson(email);\r\n        \r\n        if (!result) {\r\n            setStatus(\"Brak osoby o adresie email: \" + email)\r\n            setIsError(true);\r\n        }\r\n        else {\r\n\r\n            setStatus(\"Usunieto osobę o adresie email: \" + email);\r\n            setIsError(false);\r\n        }        \r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Header />\r\n\r\n            {!isError && <Alert variant=\"success\"> <strong>Status: {status}</strong> </Alert>}\r\n            {isError && <Alert variant=\"danger\"> <strong>Status: {status}</strong> </Alert>}\r\n\r\n\r\n            <Table striped bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Email</th>\r\n                        <th>Imię</th>\r\n                        <th>Nazwisko</th>\r\n                        <th>Wiek</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {personList.personList.map((lperson, index) => (\r\n                        <PersonDescriptionHook email={lperson.email} firstname={lperson.firstname} lastname={lperson.lastname} age={lperson.age} />\r\n                    ))}\r\n                </tbody>\r\n            </Table>\r\n\r\n            <ReadPersonHook callback={addNewPerson} />\r\n\r\n            <DeletePersonHook callback={deletePerson} />\r\n\r\n            <Footer />\r\n        </Container>\r\n    );\r\n\r\n\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}