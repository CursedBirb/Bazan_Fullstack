{"ast":null,"code":"import _classCallCheck from\"C:/SKRYPTY/KROSNO/TypeScript/ProjektTS/PrzykladyTSReact/myreactapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/SKRYPTY/KROSNO/TypeScript/ProjektTS/PrzykladyTSReact/myreactapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/SKRYPTY/KROSNO/TypeScript/ProjektTS/PrzykladyTSReact/myreactapp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/SKRYPTY/KROSNO/TypeScript/ProjektTS/PrzykladyTSReact/myreactapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/SKRYPTY/KROSNO/TypeScript/ProjektTS/PrzykladyTSReact/myreactapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import Footer from\"./footer\";import Header from\"./header\";import BookDescription from\"./BookDescription\";import SBookList from\"./SBookList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";;;var BookApp=/*#__PURE__*/function(_Component){_inherits(BookApp,_Component);var _super=_createSuper(BookApp);function BookApp(props){var _this;_classCallCheck(this,BookApp);_this=_super.call(this,props);_this.state={filtrText:\"\",allBooks:new SBookList(),selectedBooks:new SBookList()};_this.state.allBooks.build();_this.state.selectedBooks.build();_this.selectBooks=_this.selectBooks.bind(_assertThisInitialized(_this));_this.filtrBooks=_this.filtrBooks.bind(_assertThisInitialized(_this));_this.addNewBook=_this.addNewBook.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(BookApp,[{key:\"selectBooks\",value:function selectBooks(){var locCopyBookList=this.state.allBooks.getCopy();locCopyBookList.selectBooks();this.setState({selectedBooks:locCopyBookList});}},{key:\"filtrBooks\",value:function filtrBooks(){var locCopyBookList=this.state.allBooks.getCopy();if(this.state.filtrText.length>0){locCopyBookList.filtrBooks(this.state.filtrText);}this.setState({selectedBooks:locCopyBookList});}},{key:\"addNewBook\",value:function addNewBook(){this.state.allBooks.addBook();this.state.selectedBooks.addBook();this.setState(function(prevState){return{allBooks:prevState.allBooks,selectedBooks:prevState.selectedBooks};});}},{key:\"handleChange\",value:function handleChange(evt){var name=evt.target.name;if(name===\"filtrText\")this.setState({filtrText:evt.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.selectBooks,children:\"Pozostaw ksi\\u0105\\u017Cki tylko Tolkiena\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.addNewBook,children:\"Dodaj jak\\u0105\\u015B ksia\\u017Ck\\u0119.\"}),this.state.selectedBooks.books.map(function(lbook,index){return/*#__PURE__*/_jsx(BookDescription,{title:lbook.title,author:lbook.author,pages:lbook.pages});}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\" Tekst do filtra: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"filtrText\",value:this.state.filtrText,onChange:this.handleChange}),\"  \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.filtrBooks,children:\"Filtruj ksi\\u0105\\u017Cki\"}),\" \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return BookApp;}(Component);export default BookApp;","map":{"version":3,"names":["React","Component","Footer","Header","BookDescription","SBookList","BookApp","props","state","filtrText","allBooks","selectedBooks","build","selectBooks","bind","filtrBooks","addNewBook","handleChange","locCopyBookList","getCopy","setState","length","addBook","prevState","evt","name","target","value","books","map","lbook","index","title","author","pages"],"sources":["C:/SKRYPTY/KROSNO/TypeScript/ProjektTS/PrzykladyTSReact/myreactapp/src/books/BookApp.tsx"],"sourcesContent":["import React, { Component, FormEvent, ChangeEvent } from \"react\";\r\n\r\nimport Footer from \"./footer\";\r\nimport Header from \"./header\";\r\nimport BookDescription from \"./BookDescription\";\r\n\r\nimport  SBookList from \"./SBookList\"\r\n\r\ninterface Props {\r\n};\r\n\r\ninterface State {\r\n    filtrText: string;\r\n    allBooks: SBookList;    \r\n    selectedBooks: SBookList;    \r\n};\r\n\r\n\r\nclass BookApp extends Component<Props,State> {\r\n       \r\n    constructor(props : Props) {           \r\n        super(props);\r\n\r\n        this.state = { \r\n            filtrText: \"\",          \r\n            allBooks: new SBookList(),              \r\n            selectedBooks: new SBookList(),              \r\n        }\r\n\r\n        this.state.allBooks.build();       \r\n        this.state.selectedBooks.build();       \r\n\r\n        this.selectBooks = this.selectBooks.bind(this);\r\n        this.filtrBooks = this.filtrBooks.bind(this);\r\n        this.addNewBook = this.addNewBook.bind(this);    \r\n        this.handleChange = this.handleChange.bind(this);    \r\n    }\r\n\r\n\r\n    selectBooks() {\r\n        let locCopyBookList = this.state.allBooks.getCopy();\r\n        locCopyBookList.selectBooks();        \r\n        this.setState({ selectedBooks: locCopyBookList });        \r\n    }\r\n\r\n    filtrBooks() {\r\n        let locCopyBookList = this.state.allBooks.getCopy();\r\n        if (this.state.filtrText.length>0){\r\n            locCopyBookList.filtrBooks(this.state.filtrText);        \r\n        }\r\n        this.setState({ selectedBooks: locCopyBookList });                \r\n    }\r\n\r\n\r\n    addNewBook() : void {\r\n\r\n        this.state.allBooks.addBook();\r\n        this.state.selectedBooks.addBook();\r\n        \r\n        this.setState((prevState) => ({\r\n            allBooks: prevState.allBooks,\r\n            selectedBooks: prevState.selectedBooks,\r\n        }));\r\n    }\r\n\r\n    handleChange(evt: ChangeEvent<HTMLInputElement>) {\r\n\r\n        const name = evt.target.name;\r\n    \r\n        if (name === \"filtrText\") this.setState({ filtrText: evt.target.value });        \r\n      }\r\n    \r\n    \r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n\r\n                <button onClick={this.selectBooks}>\r\n                    Pozostaw książki tylko Tolkiena\r\n                </button>\r\n\r\n                <button onClick={this.addNewBook}>\r\n                    Dodaj jakąś ksiażkę.\r\n                </button>\r\n                                \r\n                {this.state.selectedBooks.books.map((lbook, index) => (                        \r\n                        <BookDescription title={lbook.title} author={lbook.author} pages={lbook.pages} />\r\n                ))}\r\n\r\n                <div>\r\n                    <label> Tekst do filtra: <input type=\"text\" name='filtrText' value={this.state.filtrText} onChange={this.handleChange} />  </label>\r\n                    <button onClick={this.filtrBooks}>Filtruj książki</button> <br />\r\n                </div>\r\n        \r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default BookApp;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}